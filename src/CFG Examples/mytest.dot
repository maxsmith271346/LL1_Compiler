digraph G { 
BB1[shape=record, label="<b>main\nBB1|{0 : CALL foo }"];
BB1:s -> BB1:n [label="call"];
BB1[shape=record, label="<b>foo\nBB1|{1 : MOVE 1 c |2 : MOVE c d |3 : MUL d d |4 : MOVE (2) e |5 : ADD a c |6 : MOVE (4) f |7 : MOVE e g |8 : ADD g d |9 : MOVE (7) a |10 : CMP a c |11 : BGE (9) [3] }"];
BB1:s -> BB2:n [label="then"];
BB1:s -> BB3:n [label="else"];
BB2[shape=record, label="<b>BB2|{12 : ADD g 1 |13 : MOVE (11) h }"];
BB2:s -> BB4:n [label=""];
BB3[shape=record, label="<b>BB3|{14 : ADD d g |15 : MOVE (13) f |16 : CMP f a |17 : BLE (15) [6] }"];
BB3:s -> BB5:n [label="then"];
BB3:s -> BB4:n [label="else"];
BB4[shape=record, label="<b>BB4|{18 : MUL g a |19 : MOVE (18) b |20 : WRITE a |21 : WRITE b |22 : WRITE c |23 : WRITE d |24 : WRITE e |25 : WRITE f |26 : WRITE g |27 : WRITE h }"];
BB5[shape=record, label="<b>BB5|{28 : MOVE 2 c }"];
BB5:s -> BB4:n [label=""];
}